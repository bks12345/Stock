$(document).ready(function () {
    var $pageWrapper = $('.page-wrapper');
    var defaultWidth = $('.sidebar').outerWidth();
    var $rsb = $('.sidebar'), rsbr = Number($rsb.css('left').replace('px', ''));
    var pwml = Number($pageWrapper.css('margin-left').replace('px', '')), pwmr = Number($pageWrapper.css('margin-right').replace('px', ''));
    var cobj = { width: $('.page-container').width() - $('.right-sidebar').outerWidth(true) - defaultWidth - pwml - pwmr - rsbr };
    $pageWrapper.css(cobj);

    $('#right-navigator').on('click', function () {
        $(this).toggleClass('lft-arrow');
        var btnWidth = 0, pwWidth = 0;
        if ($rsb.is(".collapsable")) {
            pwWidth = $pageWrapper.width() + defaultWidth - btnWidth;
            $rsb.removeClass('collapsable')
        }
        else {
            btnWidth = defaultWidth;
            pwWidth = $('.page-container').width() - $('.right-sidebar').outerWidth(true) - defaultWidth - pwml - pwmr - rsbr; $rsb.addClass('collapsable')
        }
        $pageWrapper.animate({ width: pwWidth }, 500);
        $rsb.animate({ width: btnWidth + 'px' }, 500)
    });

    $("#right-navigator").click(function () {
        if ($("#pageContainer").hasClass('page-wrapper')) {
            $("#pageContainer").removeClass('page-wrapper').addClass('page-wrapper1')
        }
        else {
            $("#pageContainer").removeClass('page-wrapper1').addClass('page-wrapper')
        }
    });

    $('.mp-ref').on('click', function (e) {
        var ltxt = $(this).text();
        var $mpContainer = $(this).next('.mp-level');
        $mpContainer.children('.icons-display').text(ltxt);
        $mpContainer.show();
        console.log($(this).attr('target'));
        if ('target' == $(this).attr('target')) {
            $('#empty').show(); $('#target-loading').show()
        }
    });

    $('.mp-back').on('click', function (e) {
        $(this).closest('.mp-level').find('li.active').removeClass('active');
        $(this).closest('.mp-level').hide()
    });

    $('#pageContainer').on('load', function () {
        $('#target-loading').hide(); $('#empty').hide()
    })
});